<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>JooMDD</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/landing-page.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="xtext/2.16.0/xtext-ace.css" />


    <link rel="stylesheet" type="text/css" href="css/jtree.min.css" />
    <!-- https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css -->

    <script type="text/javascript" src="webjars/requirejs/2.3.5/require.min.js"></script>

      <script type="application/javascript" src="js/interactive-tour.js"></script>

      <!-- Custom styles for this template -->
      <link href="css/landing-page.css" rel="stylesheet">

    <script type="text/javascript">
        var baseUrl = window.location.pathname;
        var fileIndex = baseUrl.indexOf("editor.html");
        if (fileIndex > 0)
            baseUrl = baseUrl.slice(0, fileIndex);
        require.config({
            baseUrl: baseUrl,
            "shim": {
			    "bootstrap":  ["jquery"],
			    "jquery-easing":  ["jquery"],
			    "scrolling-nav": ["jquery","bootstrap","jquery-easing"]
			},
            paths: {
                "ace/ace": "webjars/ace/1.2.8/src/ace",
                "jquery": "vendor/jquery/jquery.min",
                "ace/ext/language_tools": "webjars/ace/1.2.8/src/ext-language_tools",
                "xtext/xtext-ace": "xtext/2.16.0/xtext-ace",
                "jstree": "js/jstree",
                "bootstrap": "vendor/bootstrap/js/bootstrap.bundle.min",
                "jquery-easing": "vendor/jquery-easing/jquery.easing.min",
                "scrolling-nav": "js/scrolling-nav",
                "alert": "js/alert",
                "treeloader": "js/treeloader",
                "editorhandler": "js/editorhandler",
                "initialise": "js/initialise",
                "settings": "js/settings",
                "buttonhandler": "js/buttonhandler",
                "themes": "js/themes"
            }
        });

        require(["ace/ace"], function() {
			require(["xtext/xtext-ace"], function(xtext) {
				require(["initialise", "buttonhandler"], function(initialise) {
					console.log("Initialised");
				});
			});
		});

    </script>
  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="index.html"><img class="logo" alt="JooMDD Logo" src="img/logo.svg" /></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <!--<li class="nav-item">
              <button id="startTour" type="button" class="btn btn-joomdd" aria-haspopup="true" aria-expanded="false">
                  Start Tour
              </button>
            </li>-->
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="https://github.com/icampus/JooMDD/blob/master/docu">Documentation</a>
            </li>
            <li class="nav-item btn-group">
              <div id="loginMenuDropdown" class="btn-group">
                <button id="loginMenuBtn" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-spinner fa-pulse fa-fw"></i> LogIn
                </button>
                <div id="dropdownLogin" class="dropdown-menu">
                  <form id="login-form" class="px-4 py-3" role="form">
                    <div class="form-group">
                      <label for="loginUsername">Username</label>
                      <input type="text" class="form-control" id="loginUsername" name="username"  placeholder="Username">
                    </div>
                    <div class="form-group">
                      <label for="loginPassword">Password</label>
                      <input type="password" class="form-control" id="loginPassword" name="password" placeholder="Password">
                    </div>
                 	<button id="loginBtn" type="button" class="btn btn-primary">Sign in</button>
                  </form>
					<div>
						<div id="loginAlert" class="alert alert-dismissable fade show">
					     	<strong id="alertState"></strong><span id="alertText"></span>
					    </div>
					</div>
                  <div class="dropdown-divider"></div>
                  <a id="registrationFormBtn" class="dropdown-item" data-toggle="modal" data-target="#registrationForm" href="#">New around here? Sign up</a>
                </div>
              </div>
            </li>
            <li>
              <button id="logoutMenuBtn" type="button" class="btn btn-secondary d-none">
                <i class="far fa-user"></i> LogOut
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="intro-header">
      <div class="container">
        <div class="intro-message-editor">
          <h1>JooMDD Web Editor</h1>
          <h3>Create your Joomla! Extension on the fly... </h3>
          <hr class="intro-divider">

        </div>
      </div>
    </header>
    <!-- Page Content -->
    <section id="about" class="content-section-a">

      <div class="container">
        <div class="row">
          <div class="col-lg-8 ml-auto">
            <div>
            <span class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-light btn-lg dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Load Example Model
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                  <button class="templates dropdown-item" value="Model.eJSL">Example Model</button>
                  <button class="templates dropdown-item" value="conference.eJSL">Conference</button>
                  <button class="templates dropdown-item" value="Shop.eJSL">Shop</button>
                  <button class="templates dropdown-item" value="brueckenKurs.eJSL">Br√ºckenkurse</button>
                </div>
              </span>
              <button
                      id="saveModel"
                      class="btn btn-light btn-lg"
                      title="Save your model code in the editor to the selected model in the tree.">
                <i class="fas fa-save fa-fw"></i>
                <span>Save Model</span>
              </button>
              <select id="platform" class="custom-select">
                  <option value="j3" selected>Joomla 3</option>
                  <option value="j4">Joomla 4</option>
			        </select>
              <button
                      id="generateCode"
                      class="btn btn-light btn-lg"
                      title="Generate Joomla! code for the selected model.">
                <i class="fas fa-caret-right fa-fw"></i>
                <span>Generate Code</span>
              </button>
              
              
            </div>
            <hr id="spacer" class="section-heading-spacer">
            <div class="clearfix"></div>
            <div id="alert" class="alert alert-dismissable fade show">
              <strong id="alertState"></strong><span id="alertText"></span>
            </div>
            <h4 class=""><span id="modelname" class="align-middle">ModelName</span><span id="dirty" style="visibility: hidden">*</span><span class="loader"></span>
            	<button id="editorFullscreen" type="button" class="btn btn-light btn-lg" data-toggle="modal" data-target="#fullscreenModal">
	            	<i class="fas fa-expand fa-fw"></i>
	          	</button>
	        </h4>

            <div id="editorContainer">
            <div id="xtext-editor" data-editor-xtext-lang="eJSL"
                 class="jumbotron jumbotron-fluid"></div>
            </div>
          </div>
          <div class="col-lg-4 mr-auto">
            <div>
              <button id="addModel" class="btn btn-light btn-lg" data-toggle="modal" data-target="#addModelModal">
                <i class="fas fa-plus fa-fw"></i>
                <span>Add Model</span>
              </button>
              <!-- Modal to add a new model-->
              <div class="modal fade" id="addModelModal">
                <div class="modal-dialog">
                  <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                      <h4 class="modal-title">Add Model</h4>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                      <label for="newModelName">Name:</label>
                      <input type="text" class="form-control" id="newModelName"  placeholder="myModel" autofocus>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                      <button id="createModel" type="button" class="btn btn-primary" data-dismiss="modal">Add Model</button>
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>

                  </div>
                </div>
              </div>
              
              <button id="loadModel" class="btn btn-light btn-lg">
                <i class="fas fa-arrow-left fa-fw"></i>
                <span>Load Model to Editor</span>
              </button>
              <button
                      id="download"
                      class="btn btn-light btn-lg"
                      title="You can download (.zip) all models and sub-trees by selecting them/their parent node and click this button.">
                <i class="fas fa-download fa-fw"></i>
                <span>Download Node</span>
              </button>
              <button id="uploadExtension" class="btn btn-light btn-lg"  data-toggle="modal" data-target="#uploadExtensionModal">
                <i class="fas fa-upload fa-fw"></i>
                <span>Upload Joomla! Extension</span>
              </button>
              <div class="modal fade" id="uploadExtensionModal">
                <div class="modal-dialog">
                  <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                      <h4 class="modal-title">Upload Joomla! Extension</h4>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                      <input type="file" id="uploadExtensionFile">
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                      <button id="uploadExtension" type="button" class="btn btn-primary" data-dismiss="modal">Upload</button>
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>

                  </div>
                </div>
              </div>
              <button
                      id="extractModel"
                      class="btn btn-light btn-lg"
                      title="Select a valid manifest file in the tree (in uploaded the folder) and click this button.">
                  <i class="fas fa-file"></i>
                <span>Extract Extension Information</span>
              </button>
            </div>
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <div id="folder_tree_container" >
                <div id="folder_tree" class="filetree"></div>
            </div>
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>

	<section id="feedback">
		<div class="container">
            <div class="row">
                <div class="col">
                    <h2>We love to hear your ideas!</h2>
                    <div>What would you like that would make us better?</div>
                    <a target="_blank" href="https://github.com/thm-mni-ii/JooMDD/issues">Submit feedback</a>
                </div>
            </div>
		</div>
	</section>

    <!-- Footer -->
    <footer>
      <div id="contact" class="container">
        <p class="copyright text-muted small">Copyright &copy; Institute for Information Sciences 2017-2019. All Rights Reserved</p>
      </div>
    </footer>

	<!-- Registration form -->
	<div class="modal fade" id="registrationForm">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Register New User</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="container">
						    <form id="register-form" class="form-horizontal" role="form">
						        <div class="row">
						            <div class="col-md-4 field-label-responsive">
						                <label for="registrationUsername">Username</label>
						            </div>
						            <div class="col-md-8">
						                <div class="form-group">
						                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
						                        <div class="input-group-addon" style="width: 2.6rem"><i class="far fa-user"></i></div>
						                        <input type="text" name="username" class="form-control" id="registrationUsername"
						                               placeholder="John Doe" required autofocus>
						                    </div>
						                </div>
						            </div>
						        </div>
						        <div class="row">
						            <div class="col-md-4 field-label-responsive">
						                <label for="registrationPassword">Password</label>
						            </div>
						            <div class="col-md-8">
						                <div class="form-group has-danger">
						                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
						                        <div class="input-group-addon" style="width: 2.6rem"><i class="fas fa-key"></i></i></div>
						                        <input type="password" name="password" class="form-control" id="registrationPassword"
						                               placeholder="Password" required>
						                    </div>
						                </div>
						            </div>
						        </div>
						        <div class="row">
						            <div class="col-md-4 field-label-responsive">
						                <label for="password">Confirm Password</label>
						            </div>
						            <div class="col-md-8">
						                <div class="form-group">
						                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
						                        <div class="input-group-addon" style="width: 2.6rem">
                                                    <i class="fas fa-redo"></i>
						                        </div>
						                        <input type="password" name="password-confirmation" class="form-control"
						                               id="registrationPasswordConfirm" placeholder="Password" required>
						                    </div>
						                </div>
						            </div>
						        </div>

						        <div class="row">
						            <div class="col-md-12">
						            	<div id="registerAlert" class="alert alert-dismissable fade show">
							             	<strong id="alertState"></strong><span id="alertText"></span>
							            </div>
							        </div>
						        </div>
						    </form>
						</div>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
				        <div class="row">
				            <div class="col-md-6">
				                <button id="registerBtn" class="btn btn-success"><i class="far fa-user-plus"></i> Register</button>
				            </div>
				        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal to add a new model-->
              <div class="modal fade" id="fullscreenModal">
                <div class="modal-dialog modal-xl">
                  <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                      <h4 class="modal-title"></h4>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div id="fullscreenModalBody" class="modal-body">

                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                    </div>

                  </div>
                </div>
              </div>

  </body>

</html>
