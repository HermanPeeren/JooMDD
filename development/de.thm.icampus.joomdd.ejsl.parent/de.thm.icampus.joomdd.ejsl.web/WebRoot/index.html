<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<title>Example Web Editor</title>
<link rel="stylesheet" type="text/css" href="xtext/2.10.0/xtext-ace.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/w3.css" />
<link rel="stylesheet" type="text/css" href="css/jtree.min.css" />
<!-- https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css -->
<script src="webjars/requirejs/2.1.20/require.min.js"></script>
<script type="text/javascript">
	var baseUrl = window.location.pathname;
	var fileIndex = baseUrl.indexOf("index.html");
	if (fileIndex > 0)
		baseUrl = baseUrl.slice(0, fileIndex);
	require
			.config({
				baseUrl : baseUrl,
				paths : {
					"jquery" : "https://code.jquery.com/jquery-3.2.1.min",
					"ace/ext/language_tools" : "webjars/ace/1.2.0/src/ext-language_tools",
					"xtext/xtext-ace" : "xtext/2.10.0/xtext-ace",
					"cookie" : "lib/cookie",
					"jstree" : "lib/jstree"
				}
			});
</script>
<script type="text/javascript" src="lib/infomodal.js"></script>
<script type="text/javascript" src="lib/treeloader.js"></script>
<script type="text/javascript" src="lib/editorhandler.js"></script>
<script type="text/javascript" src="lib/firststep.js"></script>
<script type="text/javascript" src="lib/generator.js"></script>
<script type="text/javascript" src="lib/settings.js"></script>
<script type="text/javascript" src="lib/templates.js"></script>
<script type="text/javascript" src="lib/themes.js"></script>
</head>
<body>

	<div class="container">
		<header class="w3-container w3-text-light-grey blue">
			<h1>
				JooMDD Web Editor: <span id="modelname"></span>
			</h1>
		</header>
		<div class="content">
			<div id="loadModal" class="w3-modal" style="display: none">
				<div class="w3-modal-content  w3-display-middle w3-card-4"
					style="width: 120px; height: 120px;">
					<div class="loader"></div>
				</div>
			</div>
			<div id="infoModal" class="w3-modal" style="display: none">
				<div class="w3-modal-content  w3-display-right w3-card-4"
					style="max-width: 30%; position: absolute;">
					<header class="w3-container w3-blue">
						<span
							onclick="document.getElementById('infoModal').style.display='none'"
							class="w3-button w3-display-topright w3-red">&times;</span>
						<h2>JOOMDD Info</h2>
					</header>
					<div class="w3-container">
						<p id="infoModalText">Some text..</p>
					</div>
					<footer class="w3-container w3-blue">
						<button class="w3-button w3-red"
							onclick="document.getElementById('infoModal').style.display='none'"
							id="closeinfo">close</button>
					</footer>
				</div>
			</div>
			<div id="firstStepModal" class="w3-modal w3-animate-opacity">
				<div class="w3-modal-content w3-card-4">
					<header class="w3-container w3-blue">
						<h2>Welcome to JooMDD</h2>
						<br />
						<div id="firstStepModalfailur"></div>
					</header>
					<div class="w3-container">
						<label>Username</label> 
						<input type="text" class="w3-input" id="username" required> 
						<label>Secret</label> 
						<input type="text" class="w3-input" id="useremail" required> 
						<label>Resource</label>
						<input type="text" class="w3-input" id="resourceid" value="main.eJSL">
					</div>
					<br>
					<footer class="w3-container">
						<button class="w3-button w3-blue" id="newuser">New user</button>
						<button class="w3-button w3-blue" id="existuser">Already registered</button>
					</footer>
					<br />
				</div>
			</div>


			<div id="xtext-editor" data-editor-xtext-lang="eJSL"
				class="w3-card-4"></div>
			<div class="intro">
				<img class="logo" src="Logo_b.png">
				<div></div>
				<button id="ejslGeneratorsave" class="w3-btn blue"
					title="Save your model code in the editor to the selected model in the tree.">Save
					Model</button>
				<button id="ejslLoadModel" class="w3-btn blue"
					title="Load the contents of the selected model in the tree to the editor.">Load
					Model</button>
				<button id="ejslGenerator" class="w3-btn blue"
					title="Generate Joomla code for the selected model.">Generate
					Code</button>
				<button id="ejslReverseModel" class="w3-btn blue"
					title="Select a valid manifest file in the tree (in uploaded the folder) and click this button.">Model
					extraction</button>
				<button id="ejslGeneratordownload" class="w3-btn blue"
					title="You can download (.zip) all models and sub-trees by selecting them/their parent node and click this button.">Download</button>
				<br>
				<div id="folder_tree" class="filetree w3-card-4"></div>
			</div>
		</div>
		<div>
			<p>Need an example?</p>
			<div id="templatecontainer">
				<select id="templates">
					<option>Select an example model</option>
					<option value="conference.eJSL">Conference</option>
					<option value="Shop.eJSL">Shop</option>
					<option value="Model.eJSL">Model</option>
					<option value="Simple.eJSL">Simple Model</option>
					<option value="brueckenKurs.eJSL">Brueckenkurs</option>
				</select>
				<p></p>
			</div>
			<div>
				<p>Do you need a new model file?</p>
				<input type="text" id="addfile" style="margin-right: 20px">
				<button id="eJSlCreateModel">Add new Model</button>
				<p>Upload an existing extension for a model extraction:</p>
				<input type="file" id="addRevers">
				<button id="eJSlUploadModel">Upload Extension</button>
				<br>
			</div>
		</div>
	</div>
</body>
</html>
